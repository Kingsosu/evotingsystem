{% extends 'voteapp/base.html' %}


{% block content %}

<div class="container voteContainer">
    <h2>Vote Your Choice</h2>
    <h4>Pick your favourite {{category.title}}</h4>
    
    {% if msg  %}   
      <div class="alert alert-primary mt-2" role="alert">
        You have already voted in this category
      </div>

    <a class="btn btn-primary btn-lg" href="{% url 'result' category.slug %}">See Result</a>

    {% else %} 
        
        <form action="" method='POST' id="forms">

          {% csrf_token %}
          
          {% for category in categories  %}

            <div class="form-check">
              <input class="form-check-input" type="radio" value="{{category.id}}" name="category_item" id="flexRadioDefault{{category.id}}" required>
              <label class="form-check-label" for="flexRadioDefault{{category.id}}">
                {{category.title}}
              </label>
            </div>
            
          {% endfor %}

          <button type="submit" class='btn btn-primary'>Submit</button>
        
        </form>

    {% endif %}

    <script>
      forms = document.querySelector('#forms');
      forms.addEventListener('submit', function(event){
          //event.preventDefault();
          // Additional code for form submission handling if needed
      });
  </script>
  

  
</div>


    
{% endblock content %}
    